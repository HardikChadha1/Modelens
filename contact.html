<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Contact Us</title>
    <link rel="stylesheet" href="contact.css">
    <link rel="stylesheet" href="navbar.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="icon"
        href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyLjUwMTggMkgxMy4wMDM5TDEyLjc2IDExLjY0QzEyLjc0NDQgMTIuMTgzNiAxMi43MzA0IDEyLjgzMTMgMTIuNzI1OCAxM0g4LjYyMDRMMi42MzMgM0gxLjYwMDk3TDIuMTUgMTMuMDEzTDcuMjYwMyAxM0w3LjUwMDggM2gxLjc4MDRMOC41OTk0IDEwLjIxMkwxMS41MDMgM2gxLjUwMTlaIiBmaWxsPSIjODA0N0VGIi8+Cjwvc3ZnPgo="
        type="image/svg+xml">
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</head>

<body>
    <header id="main-header">
        <nav>
            <div class="nav-left">
                <a href="index.html#services">Services</a>
                <a href="index.html#events">Events</a>
                <a href="portfolio.html">Portfolio</a>
            </div>
            <div class="logo">
                <a href="index.html">
                    <img src="images/Mm logo.jpeg" alt="Logo">
                </a>
            </div>
            <div class="nav-right">
                <a href="team.html">Our Team</a>
                <a href="contact.html">Contact Us</a>
                <div class="user-menu">
                    <img src="images/usericon.png" alt="User Icon" class="user-icon">
                    <div class="dropdown-menu" id="user-dropdown">
                        <a id="login-link" href="login.html">Login</a>
                        <a id="signup-link" href="signup.html">Signup</a>
                    </div>
                </div>
                <a id="logout" href="#" style="display:none;">Logout</a>
            </div>
        </nav>
    </header>

    <main>
        <div class="messagecont">
            <div class="message">
                <h2>Let’s make it a reality!</h2>
                <p>
                    We're excited to work with you soon! Please share your details & we'll get back in 2-3 working days!

                </p>
                <h5>Contact</h5>
                <div class="logogmail"><i class="fa-solid fa-envelope"></i>
                    <a href="mailto:modelensofficial@gmail.com">
                        modelensofficial@gmail.com
                    </a>
                </div>

            </div>
        </div>
        <div class="contact-container">
            <form id="registration-form">
                <h1>Get in Touch</h1>
                <h4>Full Name</h4>
                <input type="text" id="fullname" placeholder="Full name" required>
                <h4>Email</h4>
                <input type="email" id="email" placeholder="Email" required>
                <h4>Mobile no.</h4>
                <input type="text" id="mobile" placeholder="Mobile" required>
                <h4>Organisation's link</h4>
                <input type="text" id="link" placeholder="Organization's Name, Website Link" required>
                <h4>What services are you interested in?</h4>
                <div class="check" id="services">
                    <div>
                        <input type="checkbox" id="brandphotoshoot" name="brandphotoshoot" />
                        <label for="brandphotoshoot">Brand Photoshoot</label>
                    </div>

                    <div>
                        <input type="checkbox" id="Modelling" name="Modelling" />
                        <label for="Modelling">Modelling</label>
                    </div>

                    <div>
                        <input type="checkbox" id="photography" name="photography" />
                        <label for="photography">Photography</label>
                    </div>

                    <div>
                        <input type="checkbox" id="Brandconsultant" name="Brandconsultant" />
                        <label for="Brandconsultant">Brand consultant</label>
                    </div>

                    <div>
                        <input type="checkbox" id="makeup" name="makeup" />
                        <label for="makeup">Makeup</label>
                    </div>

                    <div>
                        <input type="checkbox" id="others" name="others" />
                        <label for="others">Others</label>
                    </div>
                </div>
                <h4>Lastly, how did you hear about us?</h4>
                <div class="check" id="hear-about-us">
                    <div>
                        <input type="checkbox" id="Insta" />
                        <label for="Insta">Instagram</label>
                    </div>

                    <div>
                        <input type="checkbox" id="LinkedIn" />
                        <label for="LinkedIn">LinkedIn</label>
                    </div>

                    <div>
                        <input type="checkbox" id="Refferals" />
                        <label for="Refferals">Refferals</label>
                    </div>
                </div>

                <h4>Want to add any specific message?</h4>
                <textarea required></textarea>
                <input type="submit" value="Send" id="button">
            </form>
        </div>





    </main>
    <div class="line"></div>
    <footer>
        <div class="footer2">
            <div class="footlogo">
                <div class="logoimg"></div>
            </div>
            <ul>
                <p><a href="services.html">Services</a></p>
                <a href="models.html">Models</a>
                <a href="photographer.html">Photographer</a>
                <a href="makeup-artists.html">Makeup Artists</a>
            </ul>

            <ul>
                <p>Contact</p>
                <a>New Delhi,Delhi</a>
                <a href="#" onclick="copyToClipboard()">+91 8178517101</a>

                <div>
                    </a>
                    <a href="https://www.instagram.com/modelens.in/" target="_blank"> <img
                            src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/Instagram_logo_2016.svg/768px-Instagram_logo_2016.svg.png"
                            alt="Instagram">
                    </a>
                    <a href="https://www.linkedin.com/company/modelens/" target="_blank"> <img
                            src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/ca/LinkedIn_logo_initials.png/600px-LinkedIn_logo_initials.png"
                            alt="LinkedIn">
                    </a>
                    <a href="mailto:modelensofficial@gmail.com" target="_blank"><img
                            src="https://mailmeteor.com/logos/assets/PNG/Gmail_Logo_512px.png" alt="Gmail"></a>
                </div>

            </ul>

            <input type="text" value="+91 8178517101" id="mobileNumber" style="position: absolute; left: -9999px;">
            <div id="notification" class="notification">
                Copied the mobile number!
            </div>

            <ul>
                <p>Policy</p>
                <a href="https://drive.google.com/file/d/1V6d0rccG1SIHewm3YGgiBmJxO__a5cJB/view?usp=sharing"
                    target="_blank">Terms And
                    Conditions</a>


            </ul>
        </div>

    </footer>
    <script src="contact.js"></script>
    <script src="config.js"></script>
    <script src="login-signup.js"></script>
    <script>
        async function populateForm(token) {
            try {
                const response = await fetch(API_URL + '/user', {
                    method: 'GET',
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });
                const data = await response.json();
                if (response.ok) {
                    document.getElementById('fullname').value = data.user.firstname + ' ' + data.user.lastname || ' ';
                    document.getElementById('email').value = data.user.email || ' ';
                    document.getElementById('mobile').value = data.user.number || ' ';
                }

            } catch (error) {
                console.error('Error:', error);
                alert('There was an error retrieving your data. Please try again.');
            }
        };
        function checkLoggedIn() {
            const token = localStorage.getItem('token');
            if (token) {
                populateForm(token);
            }
        }
        document.addEventListener('DOMContentLoaded', () => {
            checkLoggedIn();
        })
        document.getElementById('registration-form').addEventListener('submit', (e) => {
            e.preventDefault();

            // Collect form data
            const fullname = document.getElementById('fullname').value;
            const email = document.getElementById('email').value;
            const mobile = document.getElementById('mobile').value;
            const message = document.querySelector('textarea').value;

            // Get selected services and heard about us data
            const selectedServices = Array.from(document.querySelectorAll('#services input:checked'))
                .map(input => input.nextElementSibling.textContent)
                .join(', ');
            const heardAboutUs = Array.from(document.querySelectorAll('#hear-about-us input:checked'))
                .map(input => input.nextElementSibling.textContent)
                .join(', ');

            // Construct subject and body
            const subject = encodeURIComponent("Contact Us");
            const body = encodeURIComponent(
                `Full Name: ${fullname}\n` +
                `Email: ${email}\n` +
                `Mobile: ${mobile}\n` +
                `Message: ${message}\n` +
                `Selected Services: ${selectedServices}\n` +
                `Heard About Us: ${heardAboutUs}`
            );

            // Construct the mailto link
            const gmaillink = `https://mail.google.com/mail/?view=cm&fs=1&to=modelensofficial@gmail.com&su=${subject}&body=${body}`;
            const gmailWindow = window.open(gmaillink, '_blank');
            const checkWindowClosed = setInterval(() => {
                if (gmailWindow.closed) {
                    clearInterval(checkWindowClosed);
                    alert('Thanks for your message! \n We’ll get back to you soon.');
                    window.location.href = 'index.html';
                }
            }, 1000);
        });

    </script>
</body>

</html>